<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <title>INTERACTIONS</title>
</head>

<body>
    <canvas id="canvas" width="300" height="250" style="border:solid 1px green">
        Your browser does not support HTML5 Canvas.
    </canvas>

    <script>
        const canvas = document.querySelector("#canvas");
        const ctx = canvas.getContext("2d");

        const W = canvas.width;
        const H = canvas.height;

        //circle properties
        ctx.fillStyle = "blue";
        const R = 20;
        let x = W / 2;  //circle center X coordinate
        let y = H / 2;  //circle center Y coordinate

        window.addEventListener('keydown', keyPressed);
        window.addEventListener('keyup', keyReleased);

        let keys = [];

        function keyPressed(e) {
            keys[e.key] = true; //store an entry for every key pressed
            //console.log(keys, e.key)

            e.preventDefault();
        }
        function keyReleased(e) {
            keys[e.key] = false; //mark released keys
        }

        //ANIMATION CYCLE
        function render() {
            ctx.clearRect(0, 0, W, H);

            //draw circle
            ctx.beginPath();
            ctx.arc(x, y, R, 0, Math.PI * 2);
            ctx.fill();

            //update circle (and detect Canvas boundaries)
            if (keys['ArrowRight'] && x + R < W)
                x++;
            if (keys['ArrowLeft'] && x - R > 0)
                x--;

            if (keys['ArrowDown'] && y + R < H)
                y++;
            if (keys['ArrowUp'] && y - R > 0)
                y--;

            window.requestAnimationFrame(render);
        }

        render();

    </script>
</body>

</html>