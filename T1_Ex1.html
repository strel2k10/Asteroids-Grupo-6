<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>MINITESTE 1 - Ex1</title>

</head>

<body>
  <canvas id="myCanvas" width="600" height="250" style="border:solid 3px orange">
    Your browser does not support HTML5 Canvas.
  </canvas>

  <script>
    const canvas = document.querySelector('#myCanvas');
    const ctx = canvas.getContext('2d');


    //TODO
    //variaveis
    const w = canvas.width;
    const h = canvas.height;
    const texto = "NOISE";
    const stop = false;

    //texto
    ctx.font = "150px Futura, Helvetica, sans-serif";

    window.addEventListener('keydown', keyPressed);
    window.addEventListener('keyup', keyReleased);

    let keys = [];

    function keyPressed(e) {
      keys[e.key] = true;
      e.preventDefault();
    }
    function keyReleased(e) {
      keys[e.key] = false;
    }

    function render() {
      ctx.save();
      ctx.clearRect(0, 0, w, h);

      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle'
      ctx.lineWidth = 5;
      ctx.strokeStyle = 'black';
      ctx.strokeText(texto, w / 2, h / 2);

      //gradiente
      let grad = ctx.createLinearGradient(100, 50, 400, 50);
      grad.addColorStop(0, 'red');
      grad.addColorStop(0.2, 'yellow');
      grad.addColorStop(0.4, 'lime');
      grad.addColorStop(0.6, 'aqua');
      grad.addColorStop(0.8, 'fuchsia');
      grad.addColorStop(1, 'red');
      ctx.fillStyle = grad;
      ctx.fillText(texto, w / 2, h / 2);

      //sombras
      //primeira sombra
      ctx.shadowColor = 'black'
      ctx.lineWidth = 1;
      ctx.strokeText(texto, w / 2, h / 2)
      ctx.shadowOffsetX = Math.floor((Math.random() * 5) + 1);
      ctx.shadowOffsetY = Math.floor((Math.random() * 5) + 1);

      //segunda sombra
      ctx.strokeText(texto, w / 2, h / 2)
      ctx.shadowOffsetX = Math.floor((Math.random() * 10) + 1);
      ctx.shadowOffsetY = Math.floor((Math.random() * 10) + 1);
      //terceira sombra
      ctx.strokeText(texto, w / 2, h / 2)
      ctx.shadowOffsetX = Math.floor((Math.random() * 15) + 1);
      ctx.shadowOffsetY = Math.floor((Math.random() * 15) + 1);
      //quarta sombra
      ctx.strokeText(texto, w / 2, h / 2)
      ctx.shadowOffsetX = Math.floor((Math.random() * 20) + 1);
      ctx.shadowOffsetY = Math.floor((Math.random() * 20) + 1);

      ctx.restore();
    }

    window.setInterval(render, 100);
  </script>
</body>

</html>